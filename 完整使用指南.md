# 礼明老师智能对话系统 - 完整使用指南

## 🎯 系统概述

这是一个完整的AI对话系统，能够模拟礼明老师的交流风格，支持语音克隆功能，让AI用您的真实声音进行回复。

## 🚀 快速开始

### 1. 启动系统
```bash
npm start
```

### 2. 访问地址
- 主对话页面: http://localhost:3000
- 管理后台: http://localhost:3000/admin.html
- 语音设置: http://localhost:3000/voice-setup.html
- 知识库管理: http://localhost:3000/knowledge-upload.html

## 🎙️ 语音克隆功能（付费版本）

### 准备工作
1. **ElevenLabs付费订阅**: 您已升级到付费版本，可以使用语音克隆功能
2. **API配置**: API Key已配置在系统中

### 语音克隆步骤

#### 第一步：准备语音样本
访问语音录音指导页面: http://localhost:3000/voice-clone-guide.html

**录音要求：**
- 安静的录音环境，无背景噪音
- 使用质量良好的麦克风
- 录音时长3-10分钟
- 包含多种语调和情感
- 清晰的普通话发音

**技术规格：**
- 格式：MP3、WAV或M4A
- 采样率：44.1kHz或更高
- 比特率：128kbps或更高
- 文件大小：每个文件不超过50MB
- 总大小不超过100MB

#### 第二步：录制语音样本

**方法一：在线录音**
1. 访问录音指导页面
2. 点击"开始录音"按钮
3. 按照示例脚本自然朗读
4. 录音完成后下载文件

**方法二：外部录音**
1. 使用专业录音软件或设备
2. 按照技术规格录制
3. 保存为支持的格式

**示例录音内容：**
```
你好，我是礼明，打过胜仗、愿意分享。我很高兴能在这里与大家交流。
在我的职业生涯中，我经历了许多挑战和机遇，也积累了不少经验和感悟。

我认为学习最重要的是要有好奇心和坚持不懈的精神。每个人都有自己的学习方式，
关键是要找到适合自己的方法。遇到困难时，不要轻易放弃，要相信自己的能力。

记住，成功不是一蹴而就的，而是通过不断的努力和坚持实现的。每一次的失败
都是成长的机会，每一次的尝试都让我们更接近目标。相信自己，你一定可以做到！
```

#### 第三步：创建语音克隆
1. 访问语音设置页面: http://localhost:3000/voice-setup.html
2. 点击"录音指导"查看详细说明
3. 点击"选择音频文件"上传语音样本
4. 可以上传多个文件（最多10个）
5. 点击"创建语音克隆"
6. 等待处理完成（通常需要几分钟）

#### 第四步：测试语音效果
1. 创建完成后，语音会自动添加到语音列表
2. 在测试区域输入文本
3. 选择您的自定义语音
4. 点击"测试语音"试听效果

## 📋 功能说明

### 主要功能
1. **智能对话**: 模拟礼明老师的交流风格
2. **语音回复**: 支持预设语音和自定义语音克隆
3. **知识库管理**: 上传PDF、Word文档扩展知识
4. **对话记录**: 自动保存所有对话历史
5. **数据导出**: 支持导出对话记录

### 语音功能
- **预设语音**: 多种中文语音可选
- **语音克隆**: 创建专属语音（付费功能）
- **语音测试**: 实时测试语音效果
- **自动播放**: 对话中自动播放语音回复

## 🛠️ 高级配置

### 语音配置文件
系统会自动保存语音配置到 `data/voice-config.json`：
```json
{
  "platform": "elevenlabs",
  "voiceId": "your-custom-voice-id",
  "voiceName": "礼明老师（自定义克隆）",
  "apiKey": "your-api-key"
}
```

### 自定义语音参数
在语音设置页面可以调整：
- 语音稳定性 (0-1)
- 语音清晰度 (0-1)
- 语音风格强化 (0-1)

## 🔧 故障排除

### 常见问题

**1. 语音克隆失败**
- 检查网络连接
- 确认文件格式正确
- 验证付费订阅状态
- 检查文件大小限制

**2. 语音质量不佳**
- 重新录制更清晰的样本
- 增加录音时长
- 包含更多语调变化
- 减少背景噪音

**3. API错误**
- 检查API Key是否有效
- 确认账户余额充足
- 验证网络连接

**4. 端口占用**
```bash
# 停止现有进程
pkill -f "node server.js"
# 重新启动
npm start
```

## 📊 使用统计

访问管理后台查看：
- 总对话次数
- 用户活跃度
- 语音使用情况
- 系统状态

## 🎯 最佳实践

### 语音克隆建议
1. **录音环境**: 选择安静的房间，避免回音
2. **录音设备**: 使用质量好的麦克风
3. **录音内容**: 包含多种情感和语调
4. **录音时长**: 5-8分钟为最佳
5. **语音质量**: 清晰发音，自然语速

### 对话优化
1. **个性化**: 系统已配置礼明老师的语言风格
2. **知识扩展**: 定期上传相关文档丰富知识库
3. **语音体验**: 使用自定义语音提升真实感

## 🔄 更新和维护

### 定期维护
- 清理过期的对话记录
- 更新知识库内容
- 监控语音使用额度
- 备份重要配置

### 系统更新
- 关注ElevenLabs API更新
- 定期检查依赖包更新
- 监控系统性能

## 📞 技术支持

如遇到问题，请检查：
1. 系统日志输出
2. 浏览器控制台错误
3. 网络连接状态
4. API服务状态

---

## 🎉 恭喜！

您现在已经拥有一个完整的礼明老师智能对话系统，支持：
- ✅ 智能对话
- ✅ 语音克隆
- ✅ 知识库管理
- ✅ 数据统计
- ✅ 对话记录

享受与AI礼明老师的智能对话体验吧！ 